import{j as e,g as c}from"./index.6a70849c.js";import{r as a}from"./index.ea0020fc.js";import"./index.4cf3e048.1f571a3e.js";import{S as w}from"./search.service.36bc81ce.js";const S=r=>e.jsx("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",...r,children:e.jsx("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"})}),h={search:"search"},C=({label:r,containerStyles:p})=>{const l=a.useId(),n=a.useRef(),[i,d]=a.useState("");a.useEffect(()=>{if(c().items!==location.pathname)return;const t=location.search.split("=")[1].replaceAll("+"," ").replaceAll("%C3%","Ã±");if(document.title=`${t} - Midu Bazar`,n.current!=null&&(n.current.value=t),i==="")return;const u=new URLSearchParams(location.search);w.sendMessage(u)},[i]);const f=t=>{t.preventDefault();const o=new FormData(t.currentTarget).get(h.search);if(!o)return;const m=new URLSearchParams;m.append("search",o);const x=m.toString(),s=new URL(location.origin);s.pathname=c().items,s.search=x,location.pathname===c().items?(d(o),history.pushState(null,"",s)):location.href=s.toString()};return e.jsx("div",{className:p??"w-full sm:w-full self-center",children:e.jsxs("form",{onSubmit:f,className:"w-full",children:[r!=null&&e.jsx("header",{children:e.jsx("label",{className:"drop-shadow-text",htmlFor:l,children:r})}),e.jsxs("div",{className:"flex gap-1 w-full pl-1 bg-input drop-shadow-input border border-primary rounded-[0.2em]",children:[e.jsx(S,{className:["w-7 drop-shadow-text"].join(" ")}),e.jsx("input",{ref:n,id:l,name:h.search,className:["bg-transparent outline-0 p-2 w-full"].join(" "),type:"text"})]}),e.jsx("button",{className:"hidden",children:"submit"})]})})};export{C as SearchBox};
